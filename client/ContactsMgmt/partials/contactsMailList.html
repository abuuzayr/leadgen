<link rel="stylesheet" href="assets/css/mailList.css" />

<div ng-controller="mailListController as mc">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <!---------------------------------------- Ng-include nav bars ---------------------------------------->
        <div ng-include="'NavBarMgmt/mainTab.html'"></div>
    </div>
    <br>
    <br>
    <br>
    <div class='tabs'>
        <ul class="nav nav-tabs">
            <li class=""><a ui-sref="leadlist" data-toggle="tab">LeadList</a></li>
            <li class="active"><a ui-sref="maillist" data-toggle="tab">Mailing List</a></li>
            <li class=""><a ui-sref="blacklist" data-toggle="tab">BlackList</a></li>
        </ul>
    </div>
    <br><br>
    <div class="mailGrid">
        <div class="grid1" ui-grid="mc.gridOptions" ui-grid-selection ui-grid-edit ui-grid-resize-columns></div>
        <br>
        <button ng-click="mc.openDialog('addMailList')" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored" id='addList'>Add Mailing List</button>
        <button ng-click="mc.openDialog('deleteConfirmation')" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent deleteMLButton" id="deleteList">Delete Mailing List</button>
    </div>

    <dialog id="deleteConfirmation" class="mdl-dialog">
        <div class="mdl-dialog__content">
            <p>
                Are you sure?
            </p>
            <div class="mdl-dialog__actions">
                <button id="cancel" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent" ng-click="mc.closeDialog('deleteConfirmation')">No</button>
                <button id="deleteList" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" ng-click="mc.deleteSelected(); mc.closeDialog('deleteConfirmation')">Yes</button>
            </div>
        </div>
    </dialog>

    <dialog id="addMailList" class="mdl-dialog">
        <div class="mdl-dialog__content">
            <p>
                Please enter the details.
            </p>
            <form class="add-maillist-form" ng-submit="mc.addMailList()">
                <div class="mdl-textfield mdl-js-textfield">
                    <label for="mailListName">Name</label>
                    <input class="mdl-textfield__input" type="text" id="mailListName" ng-model="mc.mailListName">
                </div>

                <div class="mdl-dialog__actions">
                    <button id="cancel" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent" ng-click="mc.closeDialog('addMailList')">Close</button>
                    <button id="addListConfirm" type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" ng-click="mc.closeDialog('addMailList')">Add</button>
                </div>
            </form>
        </div>
    </dialog>

    <dialog id="showFailure" class="mdl-dialog">
        <div class="mdl-dialog__content" layout="row" layout-wrap="" layout-margin="" layout-align="center">
            <!--  <a href="https://imgflip.com/i/17dfoe"><img src="https://i.imgflip.com/17dfoe.jpg" title="made at imgflip.com"/></a> -->
            <p>Delete failed: Campaign ongoing</p>
        </div>
        <div class="mdl-dialog__actions">
            <button id="cancel" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent" ng-click="mc.closeDialog('showFailure')">Close</button>
        </div>
    </dialog>
</div>
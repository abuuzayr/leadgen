<link rel="stylesheet" href="assets/css/blackList.css" />

<div ng-controller="blackListController" >
    <br>
    <ul class="nav nav-tabs">
        <li class=""><a ui-sref="leadlist" data-toggle="tab">LeadList</a></li>
        <li class=""><a ui-sref="maillist" data-toggle="tab">Mailing List</a></li>
        <li class="active"><a ui-sref="blacklist" data-toggle="tab">BlackList</a></li>
    </ul>
    <div id="myTabContent" class="tab-content">
    <br>
    <div ng-controller="domainsController">
        <div id="grid2">
            <div>
                <span style="font-size:24px"><b>Blocked Domains</b></span>
                <button ng-click="openDialog('addDomain')" class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect mdl-button--colored pull-right"><i class="material-icons md-48">add_circle</i></button>
                <button ng-click="openDialog('deleteDomain')" class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect mdl-button--accent pull-right"><i class="material-icons md-48">remove_circle</i></button>
            </div>
            <br>
            <div ui-grid="gridOptions" ui-grid-selection ui-grid-edit ui-grid-resize-columns></div>
        </div>
    </div>
    <br><br><br><br><br><br>
    <div class="container">
        <h3>Blocked Leads</h3>
        <div id="grid1" ui-grid="gridOptions" ui-grid-selection ui-grid-edit ui-grid-resize-columns class="grid"></div>
        <br>
        <button ng-click="deleteSelected()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Delete Blacklead(s)</button>
        <br><br>
    </div>

    <dialog id="addDomain" class="mdl-dialog" >
        <div ng-controller="domainsController" class="mdl-dialog__content">
            <p>
                Please enter the details.
            </p>
            <form class="add-domain-form" ng-submit="addDomain()">
                <div class="mdl-textfield mdl-js-textfield">
                    <label for="domain">Domain</label>
                    <input class="mdl-textfield__input" type="text" id="domain" ng-model="domainSelected">
                </div>

                <div class="mdl-dialog__actions">
                    <button id="cancel" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent" ng-click="closeDialog('addDomain')">Close</button>
                    <button type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored">Add</button> 
                </div>     
            </form>
            <p> {{addResult}} </p>  
        </div>        
    </dialog>

    <dialog id="deleteDomain" class="mdl-dialog">
        <div ng-controller="domainsController" class="mdl-dialog__content">
            <p>
                Please select the domain.
            </p>
            <form class="delete-domain-form" ng-submit="deleteDomain()">
                <select ng-model="domainSelected">
                    <option ng-repeat="domain in gridOptions.data">{{domain.domain}}</option>
                </select>
                <div class="mdl-dialog__actions">
                    <button id="cancel" type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent" ng-click="closeDialog('deleteDomain')">Close</button>
                    <button type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored">Delete</button> 
                </div>     
            </form>
            <p> {{addResult}} </p>  
        </div>        
    </dialog>
    </div>
</div>